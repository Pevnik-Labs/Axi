\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage{xcolor}
\usepackage{Commands}

\usetheme{Darmstadt}

\title{T-Axi (declarative)}
\author
{
  Wojciech Ko≈Çowski\\
  \and
  Mateusz Pyzik\\
}
\date{}

\begin{document}

\frame{\titlepage}

\section{Intro}

\begin{frame}{Quantities}

Quantities: \\
$r ::= \Zero \pipe \One \pipe \ExplicitOmega$

\vspace{2em}

$\ExplicitOmega$ is the default quantity, so when there's nothing to indicate quantity, it means it's $\ExplicitOmega$.

\vspace{2em}

Quantities are ordered: \\
\begin{center}
  $\subusage{\ExplicitOmega}{r}$ \\
  $\subusage{\Zero}{\Zero}$ \\
  $\subusage{\One}{\One}$
\end{center}

\end{frame}

\begin{frame}{Operations on quantities}

Addition of quantities:
\begin{center}
  $\addqty{\Zero}{r} = r$ \\
  $\addqty{\ExplicitOmega}{r} = \ExplicitOmega$ \\
  $\addqty{\One}{\Zero} = \One$ \\
  $\addqty{\One}{\One} = \ExplicitOmega$ \\
  $\addqty{\One}{\ExplicitOmega} = \ExplicitOmega$
\end{center}

Multiplication:
\begin{center}
  $\mulqty{\Zero}{r} = \Zero$ \\
  $\mulqty{\One}{r} = r$ \\
  $\mulqty{\ExplicitOmega}{\Zero} = \Zero$ \\
  $\mulqty{\ExplicitOmega}{\One} = \ExplicitOmega$ \\
  $\mulqty{\ExplicitOmega}{\ExplicitOmega} = \ExplicitOmega$ \\
\end{center}

\end{frame}

\begin{frame}{Types}

Types: \\
$A, B ::= \Fun[r]{A}{B} \pipe \Box[r]{A} \pipe \Prod{A}{B} \pipe \Sum{A}{B} \pipe \Unit \pipe \Empty$

\end{frame}

\begin{frame}{Terms}

Terms: \\
$e ::=$ \\
\qquad $x \pipe \fun[r]{x}[A]{e} \pipe \app{e_1}{e_2} \pipe$ \\
\qquad $\boxintro[r]{e} \pipe \boxelim{x}[A]{e_1}{e_2}$ \\
\qquad $\pair{e_1}{e_2} \pipe \letpair{x}{y}{e_1}{e_2} \pipe$ \\
\qquad $\inl[A]{e} \pipe \inr[A]{e} \pipe \case{e}{e_1}{e_2} \pipe$ \\
\qquad $\unit \pipe \unitelim[A]{e_1}{e_2} \pipe$ \\
\qquad $\emptyelim[A]{e} \pipe$ \\
\qquad $\letin[r]{x}[A]{e_1}{e_2} \pipe$ \\
\qquad $\choose[A]{p} \pipe \choosewitnessp{x}{h}{p}{e}$

\vspace{2em}

$\choose[A]{p}$ and $\choosewitnessp{x}{h}{p}{e}$ are noncomputable terms, whereas all others are computable.

\end{frame}

\begin{frame}{Propositions}

Propositions: \\
$P, Q ::=$ \\
\qquad $\True \pipe \False \pipe \Impl{P}{Q} \pipe \And{P}{Q} \pipe \Or{P}{Q} \pipe$ \\
\qquad $\All{x}[A]{P} \pipe \Ex{x}[A]{P} \pipe$ \\
\qquad $\Eq[A]{e_1}{e_2}$

\vspace{2em}

Notations: \\
$\Not{P}$ stands for $\Impl{P}{\False}$ \\
$\Iff{P}{Q}$ stands for $\And{(\Impl{P}{Q})}{(\Impl{Q}{P})}$

\end{frame}

\begin{frame}{Proofterms}

Proofterms ($P, Q$ are propositions, $e$ are terms, $h$ are variables): \\
$p, q ::=$ \\
\qquad $h \pipe \assumption \pipe \trueintro \pipe \falseelim{p}$ \\
\qquad $\implintro{h}[P]{q} \pipe \implelim{p_1}{p_2} \pipe$ \\
\qquad $\andintro{p_1}{p_2} \pipe \andeliml{p} \pipe \andelimr{p} \pipe$ \\
\qquad $\orintrol{p} \pipe \orintror{p} \pipe \orelim{p_1}{p_2}{p_3} \pipe$ \\
\qquad $\lemma{h}{P}{p}{q} \pipe \proofannot{P}{p} \pipe$ \\
\qquad $\suffices{P}{q}{p} \pipe$ \\
\qquad $\allintro{x}[A]{e} \pipe \allelim{p}{e} \pipe$ \\
\qquad $\exintro{e}{p} \pipe \exelim{x}{h}{p_1}{p_2} \pipe$ \\
\qquad $\refl[e] \pipe \rewrite{p_1}{p_2} \pipe \funext{x}[A]{p}$ \\
\qquad $\bycontradiction{h}[\Not{P}]{q} \pipe$ \\
\qquad $\choosespec{p} \pipe \choosewitnessl{x}{h}{p}{q}$
\end{frame}

\begin{frame}{Contexts}

Contexts: \\
$\Gamma ::= \emptyctx \pipe \extend{\Gamma}[r]{x}{A} \pipe \extend{\Gamma}[r]{x}{A}[e] \pipe \assume{\Gamma}{h}{P}$ % \pipe \extendtype{\Gamma}{\alpha}$

\vspace{2em}

Operations on contexts: \\
$\addctx{\Gamma_1}{\Gamma_2}$ -- context addition \\
$\scalectx{r}{\Gamma}$ -- context scaling \\
$\subctx{\Gamma_1}{\Gamma_2}$ -- context subusaging/ordering \\
$\cartesianize{\Gamma}$ -- cartesianization

\end{frame}

\begin{frame}{Context addition}

\begin{center}
  $\addctx{\emptyctx}{\emptyctx} = \emptyctx$ \\
  $\addctx{(\extend{\Gamma_1}[r_1]{x}{A})}{(\extend{\Gamma_2}[r_2]{x}{A})} = \extend{(\addctx{\Gamma_1}{\Gamma_2})}[(\addqty{r_1}{r_2})]{x}{A}$ \\
  $\addctx{(\extend{\Gamma_1}[r_1]{x}{A}[e])}{(\extend{\Gamma_2}[r_2]{x}{A}[e])} = \extend{(\addctx{\Gamma_1}{\Gamma_2})}[(\addqty{r_1}{r_2})]{x}{A}[e]$ \\
  $\addctx{(\assume{\Gamma_1}{p}{P})}{(\assume{\Gamma_2}{h}{P})} = \assume{(\addctx{\Gamma_1}{\Gamma_2})}{h}{P}$
\end{center}

\end{frame}

\begin{frame}{Context scaling}

\begin{center}
  $\scalectx{s}{\emptyctx} = \emptyctx$ \\
  $\scalectx{s}{(\extend{\Gamma}[r]{x}{A})} = \extend{\scalectx{s}{\Gamma}}[(\mulqty{s}{r})]{x}{A}$ \\
  $\scalectx{s}{(\extend{\Gamma}[r]{x}{A}[e])} = \extend{\scalectx{s}{\Gamma}}[(\mulqty{s}{r})]{x}{A}[e]$ \\
  $\scalectx{s}{(\assume{\Gamma}{h}{P})} = \assume{\scalectx{s}{\Gamma}}{h}{P}$ \\
\end{center}

\end{frame}

\begin{frame}{Context ordering}

\begin{center}
  $\infrule{}{\subctx{\emptyctx}{\emptyctx}}$

  \vspace{1em}

  $\infrule{\subctx{\Gamma_1}{\Gamma_2} \quad \subusage{r_1}{r_2}}{\subctx{\extend{\Gamma_1}[r_1]{x}{A}}{\extend{\Gamma_2}[r_2]{x}{A}}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma_1}{\Gamma_2} \quad \subusage{r_1}{r_2}}{\subctx{\extend{\Gamma_1}[r_1]{x}{A}[e]}{\extend{\Gamma_2}[r_2]{x}{A}[e]}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma_1}{\Gamma_2}}{\subctx{\assume{\Gamma_1}{h}{P}}{\assume{\Gamma_2}{h}{P}}}$
\end{center}

\end{frame}

\begin{frame}{Cartesianization}

Cartesianization turns a context into a traditional context that doesn't mention any quantities.

\begin{center}
  $\cartesianize{\emptyctx} = \emptyctx$ \\
  $\cartesianize{\extend{\Gamma}[r]{x}{A}} = \extend{\cartesianize{\Gamma}}{x}{A}$ \\
  $\cartesianize{\extend{\Gamma}[r]{x}{A}[e]} = \extend{\cartesianize{\Gamma}}{x}{A}[e]$ \\
  $\cartesianize{\assume{\Gamma}{h}{P}} = \assume{\cartesianize{\Gamma}}{h}{P}$
\end{center}

\end{frame}

\begin{frame}{Judgements}

Well-formed context judgement: $\ctx{\Gamma}$ \\
Cartesian context judgement: $\cartesian{\Gamma}$

\vspace{2em}

Well-formed type judgement: $\type[\Gamma]{A}$ \\
Typing judgement: $\typing{\Gamma}{e}{A}$

\vspace{2em}

Well-formed proposition judgement: $\prop[\Gamma]{P}$ \\
Proof judgement: $\proves[\Gamma]{p}{P}$

\end{frame}

\begin{frame}{Sanity checks}

We'll set up the system so that:

\begin{itemize}
  \item If $\typing{\Gamma}{e}{A}$, then $\type[\cartesianize{\Gamma}]{A}$.
  \item If $\proves[\Gamma]{p}{P}$, then $\prop[\Gamma]{P}$.
  \item If $\prop[\Gamma]{P}$, then $\cartesian{\Gamma}$.
  \item If $\type[\Gamma]{A}$, then $\cartesian{\Gamma}$.
  \item If $\cartesian{\Gamma}$, then $\ctx{\Gamma}$.
  %\item If $\ctx{\Gamma}$ and $(x : A) \in \Gamma$, then $\type[\Gamma]{A}$.
  %\item If $\ctx{\Gamma}$ and $(x : A := e) \in \Gamma$, then $\typing{\Gamma}{e}{A}$.
  %\item If $\ctx{\Gamma}$ and $(h : P) \in \Gamma$, then $\prop[\Gamma]{P}$.
\end{itemize}

\end{frame}

\begin{frame}{Well-formed contexts}

\begin{center}
  $\infrule{}{\ctx{\emptyctx}}$

  \vspace{2em}

  $\infrule{\ctx{\Gamma} \quad \type[\cartesianize{\Gamma}]{A} \quad \sidecond{x \notin \Gamma}}{\ctx{\extend{\Gamma}[r]{x}{A}}}$

  \vspace{2em}

  $\infrule[DUBIOUS]{\ctx{\Gamma} \quad \typing{\Gamma}{e}{A} \quad \sidecond{x \notin \Gamma}}{\ctx{\extend{\Gamma}[r]{x}{A}[e]}}$

  \vspace{2em}

  $\infrule{\ctx{\Gamma} \quad \prop[\cartesianize{\Gamma}]{P} \quad \sidecond{h \notin \Gamma}}{\ctx{\assume{\Gamma}{h}{P}}}$
\end{center}

\end{frame}

\begin{frame}{Cartesian contexts}

\begin{center}
  $\infrule{\ctx{\Gamma} \quad \sidecond{\Gamma = \cartesianize{\Gamma}}}{\cartesian{\Gamma}}$
\end{center}

\end{frame}

\section{Programming}

\begin{frame}{Well-formed types}

\begin{center}
  $\infrule{\cartesian{\Gamma}}{\type[\Gamma]{\Unit}}$ \quad
  $\infrule{\cartesian{\Gamma}}{\type[\Gamma]{\Empty}}$

  \vspace{2em}

  $\infrule{\type{A} \quad \type{B}}{\type{\Fun[r]{A}{B}}}$ \quad
  $\infrule{\type{A}}{\type{\Box[r]{A}}}$

  \vspace{2em}

  $\infrule{\type{A} \quad \type{B}}{\type{\Prod{A}{B}}}$ \quad
  $\infrule{\type{A} \quad \type{B}}{\type{\Sum{A}{B}}}$

\end{center}

\end{frame}

\begin{frame}{Using variables}

\begin{center}
  $\infrule{\ctx{\Gamma} \quad \Gamma = \extend{\Gamma_1}[r]{x}{A}, \Gamma_2 \quad \subusage{r}{\One} \quad \subctx{\Gamma_1}{\scalectx{\Zero}{\Gamma_1}} \quad \subctx{\Gamma_2}{\scalectx{\Zero}{\Gamma_2}}}{\typing{\Gamma}{x}{A}}$

  \vspace{2em}

  $\infrule{\ctx{\Gamma} \quad \Gamma = \extend{\Gamma_1}[r]{x}{A}[e], \Gamma_2 \quad \subusage{r}{\One} \quad \subctx{\Gamma_1}{\scalectx{\Zero}{\Gamma_1}} \quad \subctx{\Gamma_2}{\scalectx{\Zero}{\Gamma_2}}}{\typing{\Gamma}{x}{A}}$
\end{center}

\end{frame}

\begin{frame}{Functions}

\vspace{2em}

\begin{center}
  $\infrule{\typing{\extend{\Gamma}[r]{x}{A}}{e}{B}}{\typing{\Gamma}{\fun[r]{x}[A]{e}}{\Fun[r]{A}{B}}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma}{\addctx{\Gamma_1}{\scalectx{r}{\Gamma_2}}} \quad \typing{\Gamma_1}{e_1}{\Fun[r]{A}{B}} \quad \typing{\Gamma_2}{e_2}{A}}{\typing{\Gamma}{\app{e_1}{e_2}}{B}}$
\end{center}

\end{frame}

\begin{frame}{Box}

\begin{center}
  $\infrule{\subctx{\Gamma}{\scalectx{r}{\Gamma'}} \quad \typing{\Gamma'}{e}{A}}{\typing{\Gamma}{\boxintro[r]{e}}{\Box[r]{A}}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma}{\addctx{\Gamma_1}{\Gamma_2}} \quad \typing{\Gamma_1}{e_1}{\Box[r]{A}} \quad \typing{\extend{\Gamma_2}[r]{x}{A}}{e_2}{B}}{\typing{\Gamma}{\boxelim{x}[A]{e_1}{e_2}}{B}}$
\end{center}

\end{frame}

\begin{frame}{Empty}

\begin{center}
  $\infrule{\type[\cartesianize{\Gamma}]{A} \quad \typing{\Gamma}{e}{\Empty}}{\typing{\Gamma}{\emptyelim[A]{e}}{A}}$
\end{center}

\end{frame}

\begin{frame}{Unit}

\begin{center}
  $\infrule{\ctx{\Gamma} \quad \subctx{\Gamma}{\scalectx{\Zero}{\Gamma}}}{\typing{\Gamma}{\unit}{\Unit}}$

  \vspace{2em}

  $\infrule{\decomposectx{\Gamma}{\Gamma_1}{\Gamma_2} \quad \typing{\Gamma_1}{e_1}{\Unit} \quad \typing{\Gamma_2}{e_2}{A}}{\typing{\Gamma}{\unitelim[A]{e_1}{e_2}}{A}}$
\end{center}

\end{frame}

\begin{frame}{Products}

\begin{center}
  $\infrule{\decomposectx{\Gamma}{\Gamma_1}{\Gamma_2} \quad \typing{\Gamma_1}{a}{A} \quad \typing{\Gamma_2}{b}{B}}{\typing{\Gamma}{\pair{a}{b}}{\Prod{A}{B}}}$

  \vspace{2em}

  $\infrule{\decomposectx{\Gamma}{\Gamma_1}{\Gamma_2} \quad \typing{\Gamma_1}{e_1}{\Prod{A}{B}} \quad \typing{\extend{\extend{\Gamma_2}[\One]{x}{A}}[\One]{y}{B}}{e_2}{C}}{\typing{\Gamma}{\letpair{x}{y}{e_1}{e_2}}{C}}$
\end{center}

\end{frame}

\begin{frame}{Sums}

\begin{center}
  $\infrule{\typing{\Gamma}{e}{A} \quad \type[\cartesianize{\Gamma}]{B}}{\typing{\Gamma}{\inl[B]{e}}{\Sum{A}{B}}}$ \quad
  $\infrule{\type[\cartesianize{\Gamma}]{A} \quad \typing{\Gamma}{e}{B}}{\typing{\Gamma}{\inl[A]{e}}{\Sum{A}{B}}}$

  \vspace{2em}

  $\infrule{\decomposectx{\Gamma}{\Gamma_1}{\Gamma_2} \quad \typing{\Gamma_1}{e}{\Sum{A}{B}} \quad \typing{\Gamma_2}{f}{\Fun[\One]{A}{C}} \quad \typing{\Gamma_2}{g}{\Fun[\One]{B}{C}}}{\typing{\Gamma}{\case{e}{f}{g}}{C}}$
\end{center}

\end{frame}

\begin{frame}{Let}

\begin{center}
  $\infrule{\subctx{\Gamma}{\addctx{\scalectx{r}{\Gamma_1}}{\Gamma_2}} \quad \typing{\Gamma_1}{e_1}{A} \quad \typing{\extend{\Gamma_2}[r]{x}{A}[e_1]}{e_2}{B}}{\typing{\Gamma}{\letin[r]{x}[A]{e_1}{e_2}}{B}}$
\end{center}

\end{frame}

\section{Logic}

\begin{frame}{Well-formed propositions}

\begin{center}
  $\infrule{\cartesian{\Gamma}}{\prop[\Gamma]{\True}}$ \quad
  $\infrule{\cartesian{\Gamma}}{\prop[\Gamma]{\False}}$

  \vspace{1em}

  $\infrule{\prop{P} \quad \prop{Q}}{\prop{\Impl{P}{Q}}}$

  \vspace{1em}

  $\infrule{\prop{P} \quad \prop{Q}}{\prop{\And{P}{Q}}}$ \quad
  $\infrule{\prop{P} \quad \prop{Q}}{\prop{\Or{P}{Q}}}$

  \vspace{1em}

  $\infrule{\type[\Gamma]{A} \quad \prop[\extend{\Gamma}{x}{A}]{P}}{\prop{\All{x}[A]{P}}}$

  \vspace{1em}

  $\infrule{\type[\Gamma]{A} \quad \prop[\extend{\Gamma}{x}{A}]{P}}{\prop{\Ex{x}[A]{P}}}$

  \vspace{1em}

  $\infrule{\type[\Gamma]{A} \quad \typing{\Gamma}{e_1}{A} \quad \typing{\Gamma}{e_2}{A}}{\prop[\Gamma]{\Eq[A]{e_1}{e_2}}}$

\end{center}

\end{frame}

\begin{frame}{Substitution}

The notation is $\subst{P}{x}{e}$ for substitution in propositions.
\end{frame}

\begin{frame}{Assumptions and implication}

\begin{center}

  $\infrule{\prop[\Gamma]{P} \quad \sidecond{(h : P) \in \Gamma}}{\proves[\Gamma]{h}{P}}$ \quad
  $\infrule{\prop[\Gamma]{P} \quad \sidecond{(h : P) \in \Gamma}}{\proves[\Gamma]{\assumption}{P}}$

  \vspace{2em}

  $\infrule{\proves[\assume{\Gamma}{h}{P}]{q}{Q}}{\proves[\Gamma]{\implintro{h}[P]{q}}{\Impl{P}{Q}}}$

  \vspace{2em}

  $\infrule{\proves{q}{\Impl{P}{Q}} \quad \proves{p}{P}}{\proves{\implelim{q}{p}}{Q}}$
\end{center}

\end{frame}

\begin{frame}{Propositional logic}

\begin{center}
  $\infrule{\cartesian{\Gamma}}{\proves[\Gamma]{\trueintro}{\True}}$ \quad
  $\infrule{\prop[\Gamma]{Q} \quad \proves[\Gamma]{p}{\False}}{\proves[\Gamma]{\falseelim{p}}{Q}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{p}{P} \quad \proves[\Gamma]{q}{Q}}{\proves[\Gamma]{\andintro{p}{q}}{\And{P}{Q}}}$

  \vspace{1em}

  $\infrule{\proves[\Gamma]{pq}{\And{P}{Q}}}{\proves[\Gamma]{\andeliml{pq}}{P}}$ \quad
  $\infrule{\proves[\Gamma]{pq}{\And{P}{Q}}}{\proves[\Gamma]{\andelimr{pq}}{Q}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{p}{P} \quad \prop[\Gamma]{Q}}{\proves[\Gamma]{\orintrol{p}}{\Or{P}{Q}}}$ \quad
  $\infrule{\prop[\Gamma]{P} \quad \proves[\Gamma]{q}{Q}}{\proves[\Gamma]{\orintror{q}}{\Or{P}{Q}}}$

  \vspace{1em}

  $\infrule{\proves[\Gamma]{pq}{\Or{P}{Q}} \quad \proves[\Gamma]{r_1}{\Impl{P}{R}} \quad \proves[\Gamma]{r_2}{\Impl{Q}{R}}}{\proves[\Gamma]{\orelim{pq}{r_1}{r_2}}{R}}$
\end{center}

\end{frame}

\begin{frame}{Utilities}

\begin{center}
  $\infrule{\proves[\Gamma]{p}{P} \quad \proves[\assume{\Gamma}{h}{P}]{q}{Q}}{\proves[\Gamma]{\lemma{h}{P}{p}{q}}{Q}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{p}{P}}{\proves[\Gamma]{\proofannot{P}{p}}{P}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{pq}{\Impl{P}{Q}} \quad \proves[\Gamma]{p}{P}}{\proves[\Gamma]{\suffices{P}{pq}{p}}{Q}}$

\end{center}

\end{frame}

\begin{frame}{Quantifiers}

\begin{center}
  $\infrule{\proves[\extend{\Gamma}{x}{A}]{p}{P}}{\proves[\Gamma]{\allintro{x}[A]{p}}{\All{x}[A]{P}}}$

  \vspace{1em}

  $\infrule{\proves{p}{\All{x}[A]{P}} \quad \typing{\Gamma}{e}{A}}{\proves{\allelim{p}{e}}{\subst{P}{x}{e}}}$

  \vspace{2em}

  $\infrule{\typing{\Gamma}{e}{A} \quad \prop[\extend{\Gamma}{x}{A}]{P} \quad \proves{p}{\subst{P}{x}{e}}}{\proves{\exintro{e}{p}}{\Ex{x}[A]{P}}}$

  \vspace{1em}

  $\infrule{\proves[\Gamma]{p}{\Ex{x}[A]{P}} \quad \prop{Q} \quad \proves[\assume{\extend{\Gamma}{x}{A}}{h}{P}]{q}{Q}}{\proves[\Gamma]{\exelim{x}{h}{p}{q}}{Q}}$
\end{center}

\end{frame}

\begin{frame}{Equality}

\begin{center}
  $\infrule{\typing{\Gamma}{e}{A}}{\proves[\Gamma]{\refl[e]}{\Eq[A]{e}{e}}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{q}{\Eq[A]{e_1}{e_2}} \quad \prop[\extend{\Gamma}{x}{A}]{P} \quad \proves[\Gamma]{p}{\subst{P}{x}{e_2}}}{\proves[\Gamma]{\rewrite{q}{p}}{\subst{P}{x}{e_1}}}$

  \vspace{2em}

  $\infrule{\proves[\extend{\Gamma}{x}{A}]{p}{\Eq[B]{\app{f}{x}}{\app{g}{x}}}}{\proves[\Gamma]{\funext{x}[A]{p}}{\Eq[\Fun[r]{A}{B}]}{f}{g}}$
\end{center}

\end{frame}

\begin{frame}{Classical Logic}

\begin{center}
  $\infrule{\proves[\assume{\Gamma}{h}{\Not{P}}]{q}{\False}}{\proves[\Gamma]{\bycontradiction{h}[\Not{P}]{q}}{P}}$

  \vspace{2em}

  $\infrule{\proves[\cartesianize{\Gamma}]{p}{\Ex{x}[A]{P}}}{\typing{\Gamma}{\choose{p}}{A}}$

  \vspace{1em}

  $\infrule{\proves{p}{\Ex{x}[A]{P}}}{\proves{\choosespec{p}}{\subst{P}{x}{\choose{p}}}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{p}{\Ex{x}[A]{P}} \quad \prop{Q} \quad \proves[\assume{\extend{\Gamma}{x}{A}[\choose{p}]}{h}{P}]{q}{Q}}{\proves[\Gamma]{\choosewitnessl{x}{h}{p}{q}}{Q}}$

  \vspace{1em}

  $\infrule{\proves[\cartesianize{\Gamma}]{p}{\Ex{x}[A]{P}} \quad \type[\cartesianize{\Gamma}]{B} \quad \typing{\assume{\extend{\Gamma}{x}{A}[\choose{p}]}{h}{P}}{e}{B}}{\typing{\Gamma}{\choosewitnessp{x}{h}{p}{e}}{B}}$

\end{center}

\end{frame}

\end{document}