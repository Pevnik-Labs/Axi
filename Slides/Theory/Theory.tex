\documentclass{beamer}
\usepackage[utf8]{inputenc}
\usepackage{babel}
\usepackage{xcolor}
\usepackage{Commands}

\usetheme{Darmstadt}

\title{T-Axi}
\author
{
  Wojciech Ko≈Çowski\\
  \and
  Mateusz Pyzik\\
}
\date{}

\begin{document}

\frame{\titlepage}

\section{Intro}

\begin{frame}{Quantities}

Quantities: \\
$r ::= \Zero \pipe \One \pipe \ExplicitOmega$

\vspace{2em}

$\ExplicitOmega$ is the default quantity, so when there's nothing to indicate quantity, it means it's $\ExplicitOmega$.

\vspace{2em}

Quantities are ordered: \\
\begin{center}
  $\subusage{\ExplicitOmega}{r}$ \\
  $\subusage{\Zero}{\Zero}$ \\
  $\subusage{\One}{\One}$
\end{center}

\end{frame}

\begin{frame}{Operations on quantities}

Addition of quantities:
\begin{center}
  $\addqty{\Zero}{r} = r$ \\
  $\addqty{\ExplicitOmega}{r} = \ExplicitOmega$ \\
  $\addqty{\One}{\Zero} = \One$ \\
  $\addqty{\One}{\One} = \ExplicitOmega$ \\
  $\addqty{\One}{\ExplicitOmega} = \ExplicitOmega$
\end{center}

Multiplication:
\begin{center}
  $\mulqty{\Zero}{r} = \Zero$ \\
  $\mulqty{\One}{r} = r$ \\
  $\mulqty{\ExplicitOmega}{\Zero} = \Zero$ \\
  $\mulqty{\ExplicitOmega}{\One} = \ExplicitOmega$ \\
  $\mulqty{\ExplicitOmega}{\ExplicitOmega} = \ExplicitOmega$ \\
\end{center}

\end{frame}

\begin{frame}{Types}

Types: \\
$A, B ::= \Fun[r]{A}{B} \pipe \Box[r]{A} \pipe \Prod{A}{B} \pipe \Sum{A}{B} \pipe \Unit \pipe \Empty$

\end{frame}

\begin{frame}{Terms}

Terms: \\
$e ::=$ \\
\qquad $x \pipe \fun[r]{x}[A]{e} \pipe \app{e_1}{e_2} \pipe$ \\
\qquad $\boxintro[r]{e} \pipe \boxelim{x}{e_1}{e_2}$ \\
\qquad $\letin[r]{x}{e_1}{e_2} \pipe$ \\
%\qquad $\pair{e_1}{e_2} \pipe \outl{e} \pipe \outr{e} \pipe$ \\
%\qquad $\inl{e} \pipe \inr{e} \pipe \case{e}{e_1}{e_2} \pipe$ \\
%\qquad $\unit \pipe \emptyelim{e}$
\qquad $\choose{p}$

\vspace{2em}

$\choose{p}$ is a noncomputable terms, whereas all others are computable.

\end{frame}

\begin{frame}{Propositions}

Propositions: \\
$P, Q ::=$ \\
\qquad $\True \pipe \False \pipe \Impl{P}{Q} \pipe \And{P}{Q} \pipe \Or{P}{Q} \pipe$ \\
\qquad $\All{x}[A]{P} \pipe \Ex{x}[A]{P} \pipe$ \\
\qquad $\Eq[A]{e_1}{e_2}$

\vspace{2em}

Notations: \\
$\Not{P}$ stands for $\Impl{P}{\False}$ \\
$\Iff{P}{Q}$ stands for $\And{(\Impl{P}{Q})}{(\Impl{Q}{P})}$

\end{frame}

\begin{frame}{Proofterms}

Proofterms ($P, Q$ are propositions, $e$ are terms, $h$ are variables): \\
$p, q ::=$ \\
\qquad $h \pipe \trueintro \pipe \falseelim{p}$ \\
\qquad $\implintro{h}[P]{q} \pipe \implelim{p_1}{p_2} \pipe$ \\
\qquad $\andintro{p_1}{p_2} \pipe \andeliml{p} \pipe \andelimr{p} \pipe$ \\
\qquad $\orintrol{p} \pipe \orintror{p} \pipe \orelim{p_1}{p_2}{p_3} \pipe$ \\
\qquad $\lemma{h}{P}{p}{q} \pipe \proofannot{P}{p} \pipe$ \\
\qquad $\allintro{x}[A]{e} \pipe \allelim{p}{e} \pipe$ \\
\qquad $\exintro{e}{p} \pipe \exelim{x}{h}{p_1}{p_2} \pipe$ \\
\qquad $\refl[e] \pipe \rewrite{p_1}{P_2} \pipe \funext{x}[A]{p}$ \\
\qquad $\bycontradiction{h}[P]{q} \pipe \choosespec{p}$

\end{frame}

\begin{frame}{Contexts}

Contexts: \\
$\Gamma ::= \emptyctx \pipe \extend{\Gamma}[r]{x}{A} \pipe \extend{\Gamma}[r]{x}{A}[e] \pipe \assume{\Gamma}{h}{P}$ % \pipe \extendtype{\Gamma}{\alpha}$

\vspace{2em}

Operations on contexts: \\
$\addctx{\Gamma_1}{\Gamma_2}$ \\
$\scalectx{r}{\Gamma}$ \\
$\subctx{\Gamma_1}{\Gamma_2}$ \\
$\cartesianize{\Gamma}$

\end{frame}

\begin{frame}{Context addition}

\begin{center}
  $\addctx{\emptyctx}{\emptyctx} = \emptyctx$ \\
  $\addctx{(\extend{\Gamma_1}[r_1]{x}{A})}{(\extend{\Gamma_2}[r_2]{x}{A})} = \extend{(\addctx{\Gamma_1}{\Gamma_2})}[(\addqty{r_1}{r_2})]{x}{A}$ \\
  $\addctx{(\extend{\Gamma_1}[r_1]{x}{A}[e])}{(\extend{\Gamma_2}[r_2]{x}{A}[e])} = \extend{(\addctx{\Gamma_1}{\Gamma_2})}[(\addqty{r_1}{r_2})]{x}{A}[e]$ \\
  $\addctx{(\assume{\Gamma_1}{p}{P})}{(\assume{\Gamma_2}{h}{P})} = \assume{(\addctx{\Gamma_1}{\Gamma_2})}{h}{P}$
\end{center}

\end{frame}

\begin{frame}{Context scaling}

\begin{center}
  $\scalectx{s}{\emptyctx} = \emptyctx$ \\
  $\scalectx{s}{(\extend{\Gamma}[r]{x}{A})} = \extend{\scalectx{s}{\Gamma}}[(\mulqty{s}{r})]{x}{A}$ \\
  $\scalectx{s}{(\extend{\Gamma}[r]{x}{A}[e])} = \extend{\scalectx{s}{\Gamma}}[(\mulqty{s}{r})]{x}{A}[e]$ \\
  $\scalectx{s}{(\assume{\Gamma}{h}{P})} = \assume{\scalectx{s}{\Gamma}}{h}{P}$ \\
\end{center}

\end{frame}

\begin{frame}{Context ordering}

\begin{center}
  $\infrule{}{\subctx{\emptyctx}{\emptyctx}}$

  \vspace{1em}

  $\infrule{\subctx{\Gamma_1}{\Gamma_2} \quad \subusage{r_1}{r_2}}{\subctx{\extend{\Gamma_1}[r_1]{x}{A}}{\extend{\Gamma_2}[r_2]{x}{A}}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma_1}{\Gamma_2} \quad \subusage{r_1}{r_2}}{\subctx{\extend{\Gamma_1}[r_1]{x}{A}[e]}{\extend{\Gamma_2}[r_2]{x}{A}[e]}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma_1}{\Gamma_2}}{\subctx{\assume{\Gamma_1}{h}{P}}{\assume{\Gamma_2}{h}{P}}}$
\end{center}

\end{frame}

\begin{frame}{Cartesianization}

Cartesianization turns a context into a traditional context that doesn't mention any quantities.

\begin{center}
  $\cartesianize{\emptyctx} = \emptyctx$ \\
  $\cartesianize{\extend{\Gamma}[r]{x}{A}} = \extend{\cartesianize{\Gamma}}{x}{A}$ \\
  $\cartesianize{\extend{\Gamma}[r]{x}{A}[e]} = \extend{\cartesianize{\Gamma}}{x}{A}[e]$ \\
  $\cartesianize{\assume{\Gamma}{h}{P}} = \assume{\cartesianize{\Gamma}}{h}{P}$
\end{center}

\end{frame}

\begin{frame}{Judgements}

Valid type judgement: $\type[\Gamma]{A}$ \\
Typing judgement: $\typing{\Gamma}{e}{A}$

\vspace{2em}

Well-formed proposition judgement: $\prop[\Gamma]{P}$ \\
Proof judgement: $\proves[\Gamma]{p}{P}$

\end{frame}

\section{Programming}

\begin{frame}{Functions}

\vspace{2em}

\begin{center}
  $\infrule{\typing{\extend{\Gamma}[r]{x}{A}}{e}{B}}{\typing{\Gamma}{\fun[r]{x}[A]{e}}{\Fun[r]{A}{B}}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma}{\addctx{\Gamma_1}{\scalectx{r}{\Gamma_2}}} \quad \typing{\Gamma_1}{e_1}{\Fun[r]{A}{B}} \quad \typing{\Gamma_2}{e_2}{B}}{\typing{\Gamma}{\app{e_1}{e_2}}{B}}$
\end{center}

\end{frame}

\begin{frame}{Box}

\begin{center}
  $\infrule{\subctx{\Gamma}{\scalectx{r}{\Gamma'}} \quad \typing{\Gamma'}{e}{A}}{\typing{\Gamma}{\boxintro[r]{e}}{\Box[r]{A}}}$

  \vspace{2em}

  $\infrule{\subctx{\Gamma}{\addctx{\Gamma_1}{\Gamma_2}} \quad \typing{\Gamma_1}{e_1}{\Box[r]{A}} \quad \typing{\extend{\Gamma_2}[r]{x}{A}}{e_2}{B}}{\typing{\Gamma}{\boxelim{x}{e_1}{e_2}}{B}}$
\end{center}

\end{frame}

\begin{frame}{Let}

\begin{center}
  $\infrule{\subctx{\Gamma}{\addctx{\Gamma_1}{\scalectx{r}{\Gamma_2}}} \quad \typing{\Gamma_1}{e_1}{A} \quad \typing{\extend{\Gamma_2}[r]{x}{A}}{e_2}{B}}{\typing{\Gamma}{\letin[r]{x}{e_1}{e_2}}{B}}$
\end{center}

\end{frame}

\section{Logic}

\begin{frame}{Well-formed propositions}

\begin{center}

  $\infrule{\prop[\extend{\Gamma}{x}{A}]{P}}{\prop{\All{x}[A]{P}}}$ \quad
  $\infrule{\prop[\extend{\Gamma}{x}{A}]{P}}{\prop{\Ex{x}[A]{P}}}$

  \vspace{1em}

  $\infrule{\type[\Gamma]{A} \quad \typing{\Gamma}{e_1}{A} \quad \typing{\Gamma}{e_2}{A}}{\prop[\Gamma]{\Eq[A]{e_1}{e_2}}}$

\end{center}

\end{frame}

\begin{frame}{Substitution}

The notation is $\subst{P}{x}{e}$ for substitution in propositions.
\end{frame}

\begin{frame}{Proofs}

\begin{center}
  $\infrule{\cartesian{\Gamma}}{\proves[\Gamma]{\trueintro}{\True}}$

  \vspace{2em}

  $\infrule{\cartesian{\Gamma} \quad \sidecond{(h : P) \in \Gamma}}{\proves[\Gamma]{\assumption}{P}}$

  \vspace{2em}

  $\infrule{\proves[\assume{\Gamma}{h}{P}]{q}{Q}}{\proves[\Gamma]{\implintro{h}[P]{q}}{\Impl{P}{Q}}}$

  \vspace{2em}

  $\infrule{\proves{q}{\Impl{P}{Q}} \quad \proves{p}{P}}{\proves{\implelim{q}{p}}{Q}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{p}{P} \quad \proves[\assume{\Gamma}{h}{P}]{q}{Q}}{\proves[\Gamma]{\lemma{h}{P}{p}{q}}{Q}}$
\end{center}

\end{frame}

\begin{frame}{Proofs}

\begin{center}
  $\infrule{\proves[\extend{\Gamma}{x}{A}]{p}{P}}{\proves[\Gamma]{\allintro{x}[A]{p}}{\All{x}[A]{P}}}$

  \vspace{1em}

  $\infrule{\proves{p}{\All{x}[A]{P}} \quad \typing{\Gamma}{e}{A}}{\proves{\allelim{p}{e}}{\subst{P}{x}{e}}}$

  \vspace{2em}

  $\infrule{\typing{\Gamma}{e}{A} \quad \proves{p}{\subst{P}{x}{e}}}{\proves{\exintro{e}{p}}{\Ex{x}[A]{P}}}$

  \vspace{1em}

  $\infrule{\proves[\Gamma]{p}{\Ex{x}[A]{P}} \quad \prop{Q} \quad \proves[\assume{\extend{\Gamma}{x}{A}}{h}{P}]{q}{Q}}{\proves[\Gamma]{\exelim{x}{h}{p}{q}}{Q}}$
\end{center}

\end{frame}

\begin{frame}{Axiom of Choice}


\begin{center}
  $\infrule{\proves[\cartesianize{\Gamma}]{p}{\Ex{x}[A]{P}}}{\typing{\Gamma}{\choose{p}}{A}}$

  \vspace{2em}

  $\infrule{\proves{p}{\Ex{x}[A]{P}}}{\proves{\choosespec{p}}{\subst{P}{x}{\choose{p}}}}$

  \vspace{2em}

  $\infrule{\proves[\Gamma]{p}{\Ex{x}[A]{P}} \quad \prop{Q} \quad \proves[\assume{\extend{\Gamma}{x}{A}[\choose{p}]}{h}{P}]{q}{Q}}{\proves[\Gamma]{\choosewitnessl{x}{h}{p}{q}}{Q}}$

  \vspace{2em}

  $\infrule{\proves[\cartesianize{\Gamma}]{p}{\Ex{x}[A]{P}} \quad \type[\cartesianize{\Gamma}]{B} \quad \typing{\assume{\extend{\Gamma}{x}{A}[\choose{p}]}{h}{P}}{e}{B}}{\typing{\Gamma}{\choosewitnessp{x}{h}{p}{e}}{B}}$

\end{center}

\end{frame}

\end{document}